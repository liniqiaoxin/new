<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <meta name="description" content="NBA中国官方网站">
    <meta name="keywords" content="NBA中国,全明星赛,NBA视频直播,NBA赛程,NBA转播表,火箭,热火,湖人,马刺,快船,雷霆,篮网,美职篮,篮球,大卫斯特恩,乔丹,科比,林书豪,">
    <title>NBA新闻</title>
    <link rel="icon" href="../images/favicon.ico">

    <script type="text/javascript" src="http://api.map.baidu.com/api?key=&v=1.1&services=true"></script>
    <!-- Bootstrap core css -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/bootstrap.css" rel="stylesheet">
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <link href="../css/navbar-fixed-top.css" rel="stylesheet">
    <script src="../js/ie-emulation-modes-warning.js"></script>
    <!-- import CSS -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src = "https://unpkg.com/axios/dist/axios.min.js"></script>
    <link href="../css/news.css" rel="stylesheet">
    <link href="../css/map.css" rel="stylesheet">
    <link href="../css/carousel.css" rel="stylesheet">

    
</head>
<!-- NAVBAR
================================================== -->
<body>
    <div>
<!-- Fixed navbar -->
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#"><img data-src="../images/logo.png"></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                    <li><a href="index.html">首页</a></li>
                    <li><a href="news.html">新闻</a></li>
                    <li><a href="about.html">关于我们</a></li>
            </ul>

        </div><!--/.nav-collapse -->
    </div>
</nav>

<div class="news">
        <div id="app">
                <div class="row commodity new1" v-for="(item) in list.slice((currentPage-1)*pagesize,currentPage*pagesize)"
                 :key="item.id"
                
                @click="newsClick( item.id )">
                        <div class="col-xs-6 col-md-4 imgs">
                          <img :data-src="item.img">
                        </div>
                        <div class="col-xs-12 col-md-8 new1">
                          <div class="times">{{item.title}}</div>
                          <div class="times">{{item.time}}</div>
                          <div class="titles">{{item.newstitle}}</div>
                          <div class="texts">{{item.smalltext}}</div>
                        </div>
                    </div><!-- /.row -->  
                    <div>
                        <div class="wp-pager">
                          <div class="pagination">
                            <el-pagination 
                              @size-change="handleSizeChange" 
                              @current-change="handleCurrentChange" 
                              :current-page="currentPage" 
                              :page-sizes="[3, 4, 5, 6, 7]" 
                              :page-size="pagesize" 
                              layout="total, sizes,prev, pager, next" 
                              :total="list.length" 
                              prev-text="上一页" 
                              next-text="下一页">
                            </el-pagination>
                          </div>
                        </div>
                    </div>             
        </div>

</div>


<div class="footer">
    <footer>
        <div class="row">
            <div class="col-xs-6 col-md-4 col-small">
                <h3>关于我们</h3>
                <p>腾讯NBA频道是NBA官方合作伙伴</p>
                <p>覆盖新鲜的NBA赛况</p>
                <p>呈现海量NBA资讯 </p>

            </div>
            <div class="col-xs-6 col-md-4 col-small">
                <h3>我们的位置</h3>
                <p>福建省福州市闽侯县</p>
                <p>0080-888-555-542</p>
                <p>1212121@163.com</p>
                <p>周一-周五09:00 am-06:00 pm</p>
            </div>
            <div class="col-xs-6 col-md-4 col-small">
                    <h5>扫一扫，了解更多资讯</h5>
                <span class="footer-img"><img data-src="../images/erweima.png"></span>
            </div>
        </div>
        <div class="footer-attribution">
            <p>© Copyright 2019 xxx.com</p>
        </div>
    </footer>
</div>
</div>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="../js/news.js"></script>
<script>

   

        let vm = new Vue({
          el:'#app',
          data() {
            return {
                  list:[],
                  currentPage: 1, //默认显示页面为1
                  pagesize: 3, //    每页的数据条数
                  url: 'news.html?'
            } 
          },
          mounted () {
            // 页面一加载完成就执行getList方法
            this.getList();
          },
          methods: {
         
          
            //获取数据
           
            getList(){
              axios.get('../json/news.json')
              .then(response => {
              
                console.log(response.data);
                   this.list = response.data.news;
                   this.totalCount = response.data.total
                  
              })
              .catch(response => {
                console.log("获取数据失败");
              })
              
            },
                 //每页下拉显示数据
           handleSizeChange: function (size) {
            this.pagesize = size;
            console.log('size::',this.pagesize) 
            
          },
          //点击第几页
          handleCurrentChange: function (currentPage) {
            this.currentPage = currentPage;
            console.log('currentPage::',this.currentPage) 
          },
            newsClick (canshu) { //canshu是形参,在实际调用里实参是cctz(item.desc)里的item.desc
                        // escape将字符串转化成编码格式,接收页面到时候再转回来
                        var url = 'newsdetail.html' + '?id=' + escape(canshu);
                        window.open(url);
                    }
          },
           


          
        })
      </script>

<script>window.jQuery || document.write('<script src="../js/jquery.min.js"><\/script>')</script>

<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<script src="../js/bootstrap.min.js"></script>
<script src="../js/ie10-viewport-bug-workaround.js"></script>

</body>
</html>
